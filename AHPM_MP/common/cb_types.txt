# Order that CBs are executed in a peace treaty
peace_order = {
war_reparations
become_independent
dismantle_cb
colonial_competition
acquire_all_cores
acquire_core_state
colonial_reconquest_cb
unification_casus_belli
civil_war
unification_annex_casus_belli
annex_africa_full
annex_core_country
unification_add_to_sphere
add_to_sphere
install_government
take_from_sphere
liberate_country
free_peoples
free_allied_cores
unification_release_puppet_cb
release_puppet
steal_puppet
make_puppet
install_ideology_make_puppet
gunboat
cut_down_to_size
humiliate
place_in_the_sun
dismantle_forts
china_acquire_state
acquire_state
acquire_any_state
acquire_substate_region
demand_concession_casus_belli
rude_boy
conquest
annex_africa
establish_protectorate_casus_belli
status_quo
}

# Great War CB's
dismantle_cb = {
	sprite_index = 20
	is_triggered_only = yes
	months = 12
	crisis = no

	construction_speed = 0.25

	badboy_factor = 2
	prestige_factor = 10
	peace_cost_factor = 35
	penalty_factor = 3

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 3
	break_truce_militancy_factor = 1
	truce_months = 108

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	can_use = {
		test = is_warable_country
		OR = {
			is_greater_power = yes
			is_secondary_power = yes
			colonial_nation = yes
			any_owned_province = { is_overseas = yes }
		}
		is_disarmed = no
		NOT = { has_country_flag = dismantle_declared }
		THIS = {
			is_greater_power = yes
			is_disarmed = no
			mass_politics = 1
			has_country_flag != in_great_war
		}
	}

	po_disarmament = yes
	po_reparations = yes

	war_name = WAR_DISMANTLE_NAME

	on_add = {
		FROM = {
			set_country_flag = dismantle_declared
		}
		move_issue_percentage = {
			from = pro_military
			to = jingoism
			value = 0.10
		}
		country_event = 96000
	}

	on_po_accepted = {
		set_country_flag = dismantling_treaty
	}
}

# Great War Penalty
great_war_penalty_cb = {
	sprite_index = 14
	is_triggered_only = yes
	months = 0
	crisis = no

	constructing_cb = no

	great_war_obligatory = yes

	badboy_factor = 1.3
	prestige_factor = 1
	peace_cost_factor = 3
	penalty_factor = 0

	break_truce_prestige_factor = 0
	break_truce_infamy_factor = 0
	break_truce_militancy_factor = 0
	truce_months = 108

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	po_disarmament = yes
	po_reparations = yes
	po_remove_prestige = yes

	war_name = WAR_NAME

	can_use = {
		test = is_warable_country
		is_disarmed = no
	}

	on_add = {
	}

	on_po_accepted = {
		political_reform = no_draft
	}
}

# Acquire Core State
acquire_core_state = {
	sprite_index = 5
	is_triggered_only = yes
	months = 12
	construction_speed = 1.8
	badboy_factor = 0
	prestige_factor = 0.5
	peace_cost_factor = 0.7
	penalty_factor = 1
	always = yes
	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48
	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1
	can_use = {
		test = is_warable_country
		any_owned_province = { is_core = THIS }
	}
	allowed_states = {
		any_owned_province = { is_core = THIS }
	}
	po_demand_state = yes
	war_name = WAR_TAKE_CORE_NAME
	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
	on_po_accepted = {
		country_event = 2650
	}
}

# Acquire All Core States
acquire_all_cores = {
	sprite_index = 5
	is_triggered_only = yes
	months = 12
	constructing_cb = no
	crisis = no
	badboy_factor = 0
	prestige_factor = 2
	peace_cost_factor = 0.5
	penalty_factor = 1
	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48
	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1
	can_use = {
		test = is_warable_country
		any_owned_province = { is_core = THIS }
	}
	allowed_states = {
		any_owned_province = { is_core = THIS }
	}
	all_allowed_states = yes
	po_transfer_provinces = yes
	war_name = WAR_ALL_CORES_NAME
	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
	on_po_accepted = {
		country_event = 2650
	}
}

colonial_reconquest_cb = {
	sprite_index = 2
	is_triggered_only = no
	months = 12

	badboy_factor = 0
	prestige_factor = 1
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	always = yes

	can_use = {
		test = is_warable_country
		OR = {
			AND = {
				THIS = {
					OR = {
						tag = SPA
						tag = SPC
					}
					NOT = { has_global_flag = spanish_american_war }
				}
				OR = {
					tag = PRI
					tag = CUB
					tag = PHL
				}
			}
			AND = {
				THIS = {
					tag = NET
					has_country_flag = conquest_of_jambi
				}
				tag = DJA
			}
			AND = {
				THIS = {
					tag = NET
					has_country_flag = javanese_integrated
				}
				tag = JAV
			}
			AND = {
				THIS = {
					tag = NET
					has_country_flag = tidore_integrated
				}
				tag = MAL
			}
		}
		NOT = { number_of_states = 3 }
		is_vassal = no
		THIS = {
			OR = {
				is_secondary_power = yes
				is_greater_power = yes
			}
			test = is_monarchy_goverment
			NOT = { revolution_n_counterrevolution = 1 }
		}
	}

	po_annex = yes

	war_name = WAR_COLONIAL_RECONQUEST_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.1
		}
	}
}

# Unification Demand State
unification_casus_belli = {
	sprite_index = 22
	is_triggered_only = no
	months = 12
	construction_speed = 1
	crisis = no
	badboy_factor = 0
	prestige_factor = 1
	peace_cost_factor = 1
	penalty_factor = 1
	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48
	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1
	always = yes
	can_use = {
		test = is_warable_country
		THIS = {
			culture_has_union_tag = yes
			nationalism_n_imperialism = 1
			is_cultural_union = no
		}
		any_state = {
			any_owned_province = {
				any_core = {
					this_culture_union = this_union
					is_cultural_union = yes
				}
			}
		}
	}
	allowed_states = {
		any_owned_province = {
			any_core = {
				this_culture_union = this_union
				is_cultural_union = yes
			}
		}
	}
	po_demand_state = yes
	war_name = WAR_UNIFICATION_NAME
	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.1
		}
	}
}
#Unification Annex
unification_annex_casus_belli = {
	sprite_index = 5
	is_triggered_only = no
	months = 12
	crisis = no
	badboy_factor = 0
	prestige_factor = 0
	peace_cost_factor = 1
	penalty_factor = 1
	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48
	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1
	always = yes
	can_use = {
		test = is_warable_country
		THIS = {
			culture_has_union_tag = yes
			nationalism_n_imperialism = 1
		}
		primary_culture = THIS
		any_owned_province = {
			any_core = {
				this_culture_union = this_union
				is_cultural_union = yes
			}
		}
	}
	po_annex = yes
	war_name = WAR_UNIFICATION_ANNEX_NAME
	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.1
		}
	}
}

# Civil war
civil_war = {
	sprite_index = 2
	is_triggered_only = yes
	months = 1
	constructing_cb = no
	crisis = no

	can_use = {
		test = is_warable_country
	}

	badboy_factor = 0
	prestige_factor = 1
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 0.5
	break_truce_militancy_factor = 0.5
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	po_annex = yes

	war_name = CIVIL_WAR_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

# Annex Core Country
annex_core_country = {
	sprite_index = 5
	is_triggered_only = yes
	months = 12
	crisis = no

	badboy_factor = 0
	prestige_factor = 0.5
	peace_cost_factor = 0.7
	penalty_factor = 1
	always = yes

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		any_owned_province = { is_core = THIS }
		NOT = {
			any_owned_province = {
				NOT = { is_core = THIS }
			}
		}
	}

	po_annex = yes

	war_name = WAR_RESTORE_ORDER_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

# Sphere of Influence Gain
add_to_sphere = {
	sprite_index = 3
	is_triggered_only = yes
	months = 12
	crisis = no

	badboy_factor = 2
	prestige_factor = 2
	peace_cost_factor = 50
	penalty_factor = 1

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		THIS = { is_greater_power = yes }
		is_greater_power = no
		NOT = {
			AND = {
				THIS = {
					ai = yes
					nationalism_n_imperialism = 1
				}
				culture_has_union_tag = yes
				is_culture_group = THIS
				NOT = { is_cultural_union = THIS }
			}
		}
	}

	po_add_to_sphere = yes

	war_name = WAR_ADD_SPHERE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
		random_owned = {
			limit = {
				owner = {
					has_country_flag = surrender_sudan_on_lose
				}
			}
			owner = {
				clr_country_flag = surrender_sudan_on_lose
				any_owned = {
					limit = {
						OR = {
							is_core = SUD
							is_core = ETH
						}
					}
					secede_province = THIS
				}
			}
		}
	}
}

# Release Puppet
unification_release_puppet_cb = {
	sprite_index = 10
	is_triggered_only = yes
	months = 12
	crisis = no

	badboy_factor = 0
	prestige_factor = 1
	peace_cost_factor = 15
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		num_of_vassals_no_substates = 1
		THIS = {
			culture_has_union_tag = yes
			nationalism_n_imperialism = 1
			is_greater_power = yes
			NOT = { is_cultural_union = yes }
		}
		NOT = {
			is_cultural_union = yes
			is_culture_group = THIS
		}
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope
	allowed_countries = {
		is_our_vassal = FROM
		FROM = { is_culture_group = THIS is_substate = no }
	}

	po_release_puppet = yes
	po_add_to_sphere = yes

	war_name = WAR_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

# Sphere of Influence Gain
unification_add_to_sphere = {
	sprite_index = 3
	is_triggered_only = yes
	months = 12
	crisis = no

	construction_speed = 0.5

	badboy_factor = 0
	prestige_factor = 2
	peace_cost_factor = 50
	penalty_factor = 1

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	always = yes

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		is_greater_power = no
		part_of_sphere = no
		culture_has_union_tag = yes
		is_culture_group = THIS
		cultural_union = { exists = no }
		THIS = {
			is_greater_power = yes
			nationalism_n_imperialism = 1
		}
	}

	po_add_to_sphere = yes

	war_name = WAR_ADD_SPHERE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

#Take from Sphere CB's
take_from_sphere = {
	sprite_index = 4
	is_triggered_only = yes
	months = 12

	badboy_factor = 2
	prestige_factor = 3
	peace_cost_factor = 20
	penalty_factor = 1

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		THIS = { is_greater_power = yes }
		is_greater_power = yes
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope
	allowed_countries = {
		is_sphere_leader_of = FROM
		NOT = { is_our_vassal = FROM }
		OR = {
			FROM = { is_vassal = no }
			THIS = { is_our_vassal = FROM }
		}
		NOT = {
			AND = {
				THIS = { nationalism_n_imperialism = 1 }
				FROM = {
					culture_has_union_tag = yes
					is_culture_group = THIS
					cultural_union = { exists = no }
					sphere_owner = { is_culture_group = THIS }
				}
			}
		}
	}

	po_add_to_sphere = yes

	war_name = WAR_TAKE_SPHERE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

#Free Peoples CB's
free_peoples = {
	sprite_index = 9
	is_triggered_only = yes
	months = 12

	badboy_factor = 1.5
	prestige_factor = 2
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope
	allowed_countries = {
		FROM = { exists = yes }
		NOT = {
			tag = FROM
			FROM = { tag = THIS }
			FROM = { tag = MTC }
			FROM = { tag = ETH }
			this_culture_union = FROM
			AND = {
				FROM = { tag = ETH }
				ETH = { exists = no }
			}
			AND = {
				FROM = { tag = BOL }
				exists = PBC
			}
		}
		FROM = {
			OR = {
				exists = yes
				is_cultural_union = no
				involved_in_crisis = yes
			}
		}
		any_owned_province = {
			is_core = FROM
			NOT = { is_core = THIS }
		}
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal's state
	allowed_states = {
		OR = {
			any_owned_province = { is_core = FROM }
			AND = {
				FROM = { exists = yes }
				any_owned_province = { is_core = FROM }
			}
			AND = {
				FROM = { involved_in_crisis = yes }
				any_owned_province = { is_core = FROM }
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = no }
				any_owned_province = {
					is_core = FROM
					OR = {
						any_neighbor_province = { owned_by = THIS }
						controlled_by = THIS
					}
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				FROM = { NOT = { is_culture_group = THIS } }
				any_owned_province = {
					is_core = FROM
					OR = {
						any_neighbor_province = { owned_by = THIS }
						any_neighbor_province = {
							owner = {
								OR = {
									in_sphere = THIS
									alliance_with = THIS
								}
							}
						}
						controlled_by = THIS
					}
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = europe } }
				any_owned_province = {
					continent = europe
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = north_america } }
				any_owned_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = south_america } }
				any_owned_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = asia } }
				any_owned_province = {
					continent = asia
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				FROM = { is_culture_group = THIS }
				any_owned_province = { is_core = FROM }
			}
		}
	}

	po_transfer_provinces = yes

	war_name = WAR_FREE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
		THIS = { remove_country_modifier = disable_conquest_cb }
		country_event =    2651    # Territorial Loss event
	}
}

# Liberate country
liberate_country = {
	sprite_index = 15
	is_triggered_only = yes
	months = 12

	badboy_factor = 2.2
	prestige_factor = 2
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope
	allowed_countries = {
		FROM = { exists = yes }
		OR = {
			is_releasable_vassal = FROM
			FROM = { exists = yes }
			FROM = { involved_in_crisis = yes }
		}
		NOT = {
			tag = FROM
			FROM = { tag = THIS }
			FROM = { tag = MTC }
			this_culture_union = FROM
			AND = {
				FROM = { tag = ETH }
				NOT = { exists = ETH }
			}
			AND = {
				FROM = { tag = BOL }
				exists = PBC
			}
		}
		OR = {
			any_owned_province = { is_core = FROM }
			AND = {
				FROM = { exists = yes }
				any_owned_province = { is_core = FROM }
			}
			AND = {
				FROM = { involved_in_crisis = yes }
				any_owned_province = { is_core = FROM }
			}
			AND = {
				involved_in_crisis = yes
				any_owned_province = {
					is_core = FROM
					NOT = { is_core = THIS }
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = no }
				any_owned_province = {
					is_core = FROM
					OR = {
						any_neighbor_province = { owned_by = THIS }
						controlled_by = THIS
					}
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				FROM = { NOT = { is_culture_group = THIS } }
				any_owned_province = {
					is_core = FROM
					OR = {
						any_neighbor_province = { owned_by = THIS }
						any_neighbor_province = {
							owner = {
								OR = {
									in_sphere = THIS
									alliance_with = THIS
								}
							}
						}
						controlled_by = THIS
					}
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = europe } }
				any_owned_province = {
					continent = europe
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = north_america } }
				any_owned_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = south_america } }
				any_owned_province = {
					OR = {
						continent = north_america
						continent = south_america
					}
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = asia } }
				any_owned_province = {
					continent = asia
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = africa } }
				any_owned_province = {
					continent = africa
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = oceania } }
				any_owned_province = {
					continent = oceania
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = australia_new_zealand } }
				any_owned_province = {
					continent = australia_new_zealand
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				THIS = { capital_scope = { continent = polynesia } }
				any_owned_province = {
					continent = polynesia
					is_core = FROM
				}
			}
			AND = {
				FROM = { exists = no }
				THIS = { civilized = yes }
				FROM = { is_culture_group = THIS }
				any_owned_province = { is_core = FROM }
			}
		}
		FROM = {
			OR = {
				exists = yes
				is_cultural_union = no
				involved_in_crisis = yes
			}
		}
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal's state
	allowed_states = {
		any_owned_province = { is_core = FROM }
	}
	all_allowed_states = yes
	po_transfer_provinces = yes

	war_name = WAR_LIBERATE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
		THIS = { remove_country_modifier = disable_conquest_cb }
		country_event = 2651 # Territorial Loss event
	}
}

free_allied_cores = {
	sprite_index = 25
	is_triggered_only = yes
	months = 12

	construction_speed = 0.75

	badboy_factor = 0.75
	prestige_factor = 2
	peace_cost_factor = 0.8
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope
	allowed_countries = {
		any_owned_province = { is_core = FROM }
		NOT = {
			tag = FROM
			is_our_vassal = FROM
		}
		FROM = {
			exists = yes
			in_sphere = THIS
			NOT = {
				any_core = { owned_by = THIS }
			}
		}
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal's state
	allowed_states = {
		#NOT = { any_owned_province = { is_capital = yes } }
		NOT = { any_owned_province = { is_core = THIS } }
		any_owned_province = { is_core = FROM }
	}

	po_transfer_provinces = yes

	war_name = WAR_FREE_ALLIED_CORE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
		country_event =    2651    # Territorial Loss event
	}
}

#Release Puppet CB's
release_puppet = {
	sprite_index = 30
	is_triggered_only = yes
	months = 12

	badboy_factor = 1
	prestige_factor = 1
	peace_cost_factor = 5
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		num_of_vassals_no_substates >= 1
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope
	allowed_countries = {
		is_our_vassal = FROM
		FROM = { is_substate = no }
	}

	po_release_puppet = yes
	po_add_to_sphere = yes

	war_name = WAR_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

#Gunboat CB
gunboat = {
	sprite_index = 27
	is_triggered_only = yes
	months = 12
	constructing_cb = no
	crisis = no

	badboy_factor = 1
	prestige_factor = 5
	peace_cost_factor = 1
	penalty_factor = 0

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	always = yes

	can_use = {
		test = is_warable_country
		OR = {
			has_country_modifier = in_bankrupcy
			has_country_modifier = generalised_debt_default
		}
		THIS = {
			is_greater_power = yes
		}
		is_vassal = no
		in_default = THIS
	}

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	po_gunboat = yes

	war_name = WAR_GUNBOAT_NAME
}

# Cut Down to size
cut_down_to_size = {
	sprite_index = 8
	is_triggered_only = yes
	months = 12

	badboy_factor = 1.3
	prestige_factor = 1
	peace_cost_factor = 25
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	po_disarmament = yes
	po_reparations = yes

	war_name = CUT_DOWN_TO_SIZE_WAR_NAME

	can_use = {
		test = is_warable_country
		THIS = { civilized = yes }
	}

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
		random_owned = {
			limit = {
				owner = {
					civilized = no
					OR = {
						owns = 1498 #Macao
						owns = 1538 #Shanghai
						owns = 1496 #Hong Kong
						owns = 1566    #Qingdao
						owns = 1481 #Lushun - Port Arthur
						owns = 1569 #Weihaiwei
						owns = 1606 #Jiaxing
						owns = 2681 #Taibei
						owns = 2562 #Tainan
						owns = 1499 #Hainan
						owns = 2632 #Kwangchowan
						#owns = 1540 #Nantong
						owns = 1071 #Qeshm
						owns = 1695 #Ifni
					}
				}
				THIS = {
					civilized = yes
					NOT = { is_culture_group = east_asian }
					any_owned_province = { port = yes }
				}
			}
			owner = { add_country_modifier = { name = negotiating_unequal_treaty duration = 30 } }
			THIS = { add_country_modifier = { name = negotiating_treaty duration = 30 } }
		}
		random_owned = { limit = { owner = { civilized = no has_country_modifier = uncivilized_isolationism } }
			owner = { remove_country_modifier = uncivilized_isolationism }
		}
		random_owned = { limit = { owner = { civilized = no NOT = { has_country_modifier = western_influences } } }
			owner = { add_country_modifier = { name = western_influences duration = -1 } }
		}
		random_owned = { limit = { owner = { civilized = no NOT = { capital_scope = { has_country_modifier = legation_quarter } } } }
			owner = { capital_scope = { add_province_modifier = { name = legation_quarter duration = -1 } } }
		}
		random_owned = { limit = { owner = { has_country_flag = holding_tangiers owns = 1686 } }
			owner = { 1686 = { secede_province = THIS } clr_country_flag = holding_tangiers }
			THIS = { 1686 = { secede_province = MOR } }
		}
		random_owned = { limit = { owner = { has_country_flag = refused_to_cede_congo } }
			owner = { any_owned = { limit = { is_core = CNG } secede_province = THIS } clr_country_flag = refused_to_cede_congo }
			THIS = { any_owned = { limit = { is_core = CNG } secede_province = CNG } }
		}

		random_owned = {
			limit = {
				owner = { has_country_flag = lied_about_congo }
				THIS = { has_country_flag = claiming_congo }
			}
			owner = {
				any_country = { clr_country_flag = claiming_congo }
				clr_country_flag = lied_about_congo
				any_owned = {
					limit = { is_core = CNG }
					secede_province = THIS
				}
			}
		}

	}
}

# Humiliate
humiliate = {
	sprite_index = 11
	is_triggered_only = yes
	months = 12

	badboy_factor = 1.5
	prestige_factor = 1
	peace_cost_factor = 15
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		has_recently_lost_war = no
		NOT = {
			AND = {
				has_country_modifier = neutrality_modifier
				is_greater_power = no
			}
		}
		is_vassal = no
	}

	po_remove_prestige = yes

	tws_battle_factor = 2.0

	war_name = WAR_HUMILIATE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
		prestige_factor = -0.2
	}
}

#Acquire colonial state CB's
place_in_the_sun = {
	sprite_index = 7
	is_triggered_only = yes
	months = 12

	badboy_factor = 1.1
	prestige_factor = 2
	peace_cost_factor = 0.5
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		is_vassal = no
		any_owned_province = { is_colonial = yes }
		THIS = {
			NOT = { has_country_modifier = neutrality_modifier }
			OR = {
				any_owned_province = { port = yes }
				any_owned_province = {
					any_neighbor_province = {
						NOT = { owned_by = THIS }
						is_colonial = yes
					}
				}
			}
		}
	}

	allowed_states = {
		any_owned_province = { is_colonial = yes }
		###Can only grab neighboring states, coastal if it's a coastal GP
		OR = {
			#AI and Player can take a neighboring state
			any_owned_province = { any_neighbor_province = { owned_by = THIS } }

			#Player can take a neighboring state neighboring a neighboring state
			AND = {
				any_owned_province = {
					any_neighbor_province = {
						state_scope = { any_owned_province = { any_neighbor_province = { owned_by = THIS } } }
					}
				}
			}

			#AI/Player can take a coastal state
			AND = {
				any_owned_province = { port = yes }
				THIS = {
					any_owned_province = { port = yes }
				}
			}

			#Player can take any state neighboring a coastal state
			AND = {
				any_owned_province = {
					any_neighbor_province = {
						state_scope = { any_owned_province = { port = yes } }
					}
				}
				THIS = {
					any_owned_province = { port = yes }
				}
			}
		}
	}

	allowed_states_in_crisis = {
		any_owned_province = {
			OR = {
				port = yes
				any_neighbor_province = { owner = { tag = THIS } }
			}
		}
	}

	po_demand_state = yes

	war_name = WAR_COLONIAL_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

# Gain control of State
acquire_state = {
	sprite_index = 6
	is_triggered_only = yes
	months = 12

	construction_speed = 0.5

	badboy_factor = 2.2
	prestige_factor = 2
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		any_state = {
			is_colonial = no
			NOT = { any_owned_province = { is_capital = yes } }
		}
	}

	allowed_states = {
		always = yes
	}

	allowed_states_in_crisis = {
		always = yes
	}

	po_demand_state = yes

	war_name = WAR_TAKE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

# Chinese Reunification
china_acquire_state = {
	sprite_index = 22
	is_triggered_only = yes
	months = 12
	crisis = no

	badboy_factor = 0
	prestige_factor = 0
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 0
	break_truce_militancy_factor = 0
	truce_months = 84

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	always = yes

	can_use = {
		test = is_warable_country
		neighbour = THIS
		OR = {
			any_owned_province = {
				NOT = { is_core = THIS }
				is_core = CHI
			}
			is_culture_group = east_asian
		}
		THIS = {
			NOT = { tag = LAN }
			is_culture_group = east_asian
			NOT = {
				has_country_modifier = neutrality_modifier
				war_policy = pacifism
			}
		}
		is_vassal = no
		OR = {
			NOT = { has_global_flag = warlord_era_has_begun }
			owns = 1616
			NOT = { is_culture_group = east_asian }
			AND = {
				tag = CHI
				THIS = { NOT = { has_country_flag = neutral_faction } }
				THIS = { NOT = { has_country_flag = kuomintang_faction } }
			}
			AND = {
				tag = TPG
				THIS = { NOT = { has_country_flag = neutral_faction } }
			}
			AND = {
				tag = KMT
				THIS = { NOT = { has_country_flag = neutral_faction } }
				THIS = { NOT = { has_country_flag = beiyang_faction } }
				THIS = { NOT = { has_country_flag = communist_faction } }
			}
			AND = {
				THIS = { tag = TPG }
				OR = {
					has_country_flag = beiyang_faction
					has_country_flag = kuomintang_faction
					has_country_flag = communist_faction
					tag = KMT
					THIS = { NOT = { any_neighbor_country = { OR = { has_country_flag = beiyang_faction has_country_flag = kuomintang_faction has_country_flag = communist_faction tag = CHI tag = KMT } } } }
				}
			}
			AND = {
				THIS = { tag = KMT }
				OR = {
					has_country_flag = beiyang_faction
					tag = CHI
					THIS = { NOT = { any_neighbor_country = { OR = { has_country_flag = beiyang_faction tag = CHI tag = TPG } } } }
				}
			}
			AND = {
				THIS = { has_country_flag = beiyang_faction }
				OR = {
					has_country_flag = beiyang_faction
					THIS = { NOT = { any_neighbor_country = { OR = { has_country_flag = beiyang_faction tag = CHI tag = TPG } } } }
				}
			}
			AND = {
				THIS = { has_country_flag = kuomintang_faction }
				OR = {
					has_country_flag = kuomintang_faction
					THIS = { NOT = { any_neighbor_country = { OR = { has_country_flag = kuomintang_faction tag = TPG tag = KMT } } } }
				}
			}
			AND = {
				THIS = { has_country_flag = communist_faction }
				OR = {
					has_country_flag = communist_faction
					THIS = { NOT = { any_neighbor_country = { OR = { has_country_flag = communist_faction tag = TPG tag = CHI } } } }
				}
			}
		}
	}

	allowed_states = {
		OR = {
			any_owned_province = {
				NOT = {    is_core = THIS }
				is_core = CHI
			}
			any_owned_province = {
				owner = { is_culture_group = east_asian }
				NOT = { is_core = CHI }
			}
		}
	}

	po_demand_state = yes

	war_name = WAR_CHINA_REUNIFICATION

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.10
		}
	}
}

sahel_jihad_cb = {
	sprite_index = 29
	is_triggered_only = yes
	months = 12
	crisis = no

	construction_speed = 1.25

	badboy_factor = 2
	prestige_factor = 2
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 0
	truce_months = 48

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	can_use = {
		test = is_warable_country
		any_owned_province = {
			OR = {
				province_id = 1786
				province_id = 1789
				province_id = 1794
				province_id = 1800
				province_id = 1804
				province_id = 1808
				province_id = 1878
				province_id = 1880
			}
		}
		NOT = { religion = sunni }
		THIS = {
			civilized = no
			OR = {
				government = theocracy
				government = absolute_monarchy
			}
			primary_culture = fulbe
		}
	}

	allowed_states = {
		NOT = { any_owned_province = { is_core = THIS } }
		any_owned_province = { any_neighbor_province = { owned_by = THIS } }
	}

	po_demand_state = yes

	war_name = WAR_SAHEL_JIHAD_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

# Demand Concession
demand_concession_casus_belli = {
	sprite_index = 7
	is_triggered_only = yes
	months = 0
	construction_speed = 1.5
	crisis = no

	badboy_factor = 0.5
	prestige_factor = 1
	peace_cost_factor = 0.6
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	always = no

	can_use = {
		OR = {
			NOT = { has_country_modifier = war_focus }
			THIS = {
				NOT = {
					has_country_flag = exclusive_acquire_all_cores_CB
					has_country_flag = exclusive_humiliate_CB
					has_country_flag = exclusive_liberate_country_CB
					has_country_flag = exclusive_make_puppet_CB
				}
			}
		}
		NOT = { is_our_vassal = THIS }
		NOT = { has_country_modifier = neutrality_modifier }
		civilized = no
		number_of_states = 2
		is_vassal = no
		THIS = {
			civilized = yes
			NOT = { has_country_modifier = neutrality_modifier }
		}
		OR = {
			THIS = { NOT = { nationalism_n_imperialism = 1 } }
			NOT = { has_global_flag = berlin_conference }
			civilization_progress = 0.6
			has_country_flag = post_colonial_country
		}
		OR = {
			THIS = { NOT = { nationalism_n_imperialism = 1 } }
			AND = {
				THIS = { nationalism_n_imperialism = 1 }
				capital_scope = { continent = africa }
			}
			civilization_progress = 0.6
			has_country_flag = post_colonial_country
		}
	}

	allowed_states = {
		any_owned_province = { is_colonial = no }
		NOT = { any_owned_province = { is_capital = yes } }
		OR = {
			any_owned_province = { any_neighbor_province = { owned_by = THIS } }
			AND = {
				any_owned_province = { port = yes }
				THIS = { any_owned_province = { port = yes } }
			}
		}
	}

	po_demand_state = yes

	war_name = WAR_CONCESSION_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.1
		}
	}

	on_po_accepted = {}
}

# Bad Boy
rude_boy = {
	sprite_index = 28
	is_triggered_only = no
	months = 12
	construction_speed = 2
	crisis = no

	badboy_factor = 0
	prestige_factor = 0.5
	peace_cost_factor = 1.5
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	always = yes

	can_use = {
		NOT = { is_our_vassal = THIS }
		badboy = 1
		is_disarmed = no
	}

	po_remove_prestige = yes
	po_disarmament = yes
	po_reparations = yes

	war_name = WAR_RUDEBOI_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.1
		}
	}
}

# Conquest
conquest = {
	sprite_index = 2
	is_triggered_only = yes
	months = 12
	crisis = no

	can_use = {
		OR = {
			NOT = { has_country_modifier = war_focus }
			THIS = {
				NOT = {
					has_country_flag = exclusive_acquire_all_cores_CB
					has_country_flag = exclusive_humiliate_CB
					has_country_flag = exclusive_liberate_country_CB
					has_country_flag = exclusive_make_puppet_CB
				}
			}
		}
		NOT = { is_our_vassal = THIS }
		is_vassal = no
		OR = {
			AND = {
				THIS = { total_amount_of_ships = 5 }
				any_owned_province = { port = yes }
			}
			neighbour = THIS
		}
		OR = {
			THIS = { civilized = no }
			civilized = yes
		}
		OR = {
			NOT = {
				any_state = {
					is_colonial = no
					NOT = { any_owned_province = { is_capital = yes } }
				}
			}
			AND = {
				THIS = { government = fascist_dictatorship }
				NOT = { number_of_states = 4 }
			}
		}
		NOT = { has_country_modifier = neutrality_modifier }
		THIS = {
			NOT = {
				has_country_modifier = neutrality_modifier
				has_country_modifier = disable_conquest_cb
			}
		}
	}

	badboy_factor = 1.2
	prestige_factor = 5
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	po_annex = yes

	war_name = WAR_CONQUEST_NAME
}

# Berlin Conference
annex_africa = {
	sprite_index = 21
	is_triggered_only = yes
	months = 12
	crisis = no

	always = yes

	construction_speed = 2.5

	badboy_factor = 0
	prestige_factor = 0.5
	peace_cost_factor = 0.6
	penalty_factor = 2

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 0

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	can_use = {
		OR = {
			AND = {
				THIS = { total_amount_of_ships = 5 }
				any_owned_province = { port = yes }
			}
			neighbour = THIS
		}
		NOT = { is_our_vassal = THIS }
		number_of_states = 2
		THIS = {
			nationalism_n_imperialism = 1
			capital_scope = { continent = europe }
			NOT = { tag = RUS }
			NOT = { tag = TUR }
			slavery = no_slavery
			OR = {
				is_greater_power = yes
				is_secondary_power = yes
			}
			  NOT = { has_country_modifier = neutrality_modifier }
			NOT = { has_country_modifier = claimed_africa }
			NOT = { has_country_flag = congo_award }
			civilized = yes
			has_global_flag = berlin_conference
		}
		NOT = {
			tag = MOR
			tag = ALD
			tag = TRI
			tag = LIB
			tag = CYR
			primary_culture = kefficho
			primary_culture = amhara
			primary_culture = tigray
			primary_culture = oromo
			primary_culture = harari
			has_country_flag = post_colonial_country
		}
		civilized = no
		is_vassal = no
		capital_scope = { continent = africa }
		#Claimed colonial regions can't be conquered with this CB
		NOT = {
			#Ghana
			AND = {
				any_owned_province = {
					OR = {
						region = ASH_1909
						region = FRA_1907
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = ASH_1909
								region = FRA_1907
							}
						}
					}
					any_greater_power  = {
						any_owned_province = {
							OR = {
								region = ASH_1909
								region = FRA_1907
							}
						}
					}
				}
			}
			#Ivory Coast
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1892
						region = FRA_1893
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1892
								region = FRA_1893
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1892
								region = FRA_1893
							}
						}
					}
				}
			}
			#Nigeria
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1923
						region = FRA_1927
						region = FRA_1930
						region = SOK_1934
						region = SOK_1945
						region = SOK_1937
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1923
								region = FRA_1927
								region = FRA_1930
								region = SOK_1934
								region = SOK_1945
								region = SOK_1937
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1923
								region = FRA_1927
								region = FRA_1930
								region = SOK_1934
								region = SOK_1945
								region = SOK_1937
							}
						}
					}
				}
			}
			#Guinea
			AND = {
				any_owned_province = { region = FRA_1883 }
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = { region = FRA_1883 }
					}
					any_greater_power = {
						any_owned_province = { region = FRA_1883 }
					}
				}
			}
			#Guinea-Bissau
			AND = {
				any_owned_province = { region = FRA_1878 }
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = { region = FRA_1878 }
					}
					any_greater_power = {
						any_owned_province = { region = FRA_1878 }
					}
				}
			}
			#Angola
			AND = {
				any_owned_province = { region = POR_1999 }
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = { region = POR_1999 }
					}
					any_greater_power = {
						any_owned_province = { region = POR_1999 }
					}
				}
			}
			#Senegal and Mauritania
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1783
						region = FRA_1788
						region = FRA_1775
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1783
								region = FRA_1788
								region = FRA_1775
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1783
								region = FRA_1788
								region = FRA_1775
							}
						}
					}
				}
			}
			#Mali
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1798
						region = FRA_1801
						region = FRA_1803
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1798
								region = FRA_1801
								region = FRA_1803
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1798
								region = FRA_1801
								region = FRA_1803
							}
						}
					}
				}
			}
			#Niger
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1808
						region = FRA_1813
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1808
								region = FRA_1813
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1808
								region = FRA_1813
							}
						}
					}
				}
			}
			#Mozambique
			AND = {
				any_owned_province = {
					OR = {
						region = POR_2049
						region = POR_2054
						region = POR_2053
						region = POR_2060
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = POR_2049
								region = POR_2054
								region = POR_2053
								region = POR_2060
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = POR_2049
								region = POR_2054
								region = POR_2053
								region = POR_2060
							}
						}
					}
				}
			}
			#South Africa
			AND = {
				any_owned_province = {
					OR = {
						region = ENG_2087
						region = ENG_2096
						region = ORA_2103
						region = TRN_2108
						region = ZUL_2113
						region = ENG_2071
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = ENG_2087
								region = ENG_2096
								region = ORA_2103
								region = TRN_2108
								region = ZUL_2113
								region = ENG_2071
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = ENG_2087
								region = ENG_2096
								region = ORA_2103
								region = TRN_2108
								region = ZUL_2113
								region = ENG_2071
							}
						}
					}
				}
			}
			#Egypt
			AND = {
				any_owned_province = {
					OR = {
						region = EGY_1745
						region = EGY_1758
						region = EGY_1762
						region = EGY_1771
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = EGY_1745
								region = EGY_1758
								region = EGY_1762
								region = EGY_1771
								region = EGY_1755
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = EGY_1745
								region = EGY_1758
								region = EGY_1762
								region = EGY_1771
								region = EGY_1755
							}
						}
					}
				}
			}
			#Sudan
			AND = {
				any_owned_province = {
					OR = {
						region = EGY_1834
						region = EGY_1827
						region = EGY_1838
						region = ENG_1844
						#region = EGY_1842
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = EGY_1834
								region = EGY_1827
								region = EGY_1838
								region = ENG_1844
								#region = EGY_1842
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = EGY_1834
								region = EGY_1827
								region = EGY_1838
								region = ENG_1844
								#region = EGY_1842
							}
						}
					}
				}
			}
			#Ethiopia
			AND = {
				any_owned_province = {
					OR = {
						region = ETH_1853
						region = ETH_1852
						region = ETH_1865
						region = ETH_1859
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = ETH_1853
								region = ETH_1852
								region = ETH_1865
								region = ETH_1859
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = ETH_1853
								region = ETH_1852
								region = ETH_1865
								region = ETH_1859
							}
						}
					}
				}
			}
			#Somalia
			AND = {
				any_owned_province = {
					OR = {
						region = SOM_1868
						region = SOM_1872
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = SOM_1868
								region = SOM_1872
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = SOM_1868
								region = SOM_1872
							}
						}
					}
				}
			}
		}
	}

	allowed_states = {
		#Claimed colonial regions can't be conquered with this CB
		NOT = {
			#Ghana
			AND = {
				any_owned_province = {
					OR = {
						region = ASH_1909
						region = FRA_1907
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = ASH_1909
									region = FRA_1907
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = ASH_1909
									region = FRA_1907
								}
							}
						}
					}
				}
			}
			#Ivory Coast
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1892
						region = FRA_1893
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = FRA_1892
									region = FRA_1893
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = FRA_1892
									region = FRA_1893
								}
							}
						}
					}
				}
			}
			#Nigeria
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1923
						region = FRA_1927
						region = FRA_1930
						region = SOK_1934
						region = SOK_1945
						region = SOK_1937
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = FRA_1923
									region = FRA_1927
									region = FRA_1930
									region = SOK_1934
									region = SOK_1945
									region = SOK_1937
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = FRA_1923
									region = FRA_1927
									region = FRA_1930
									region = SOK_1934
									region = SOK_1945
									region = SOK_1937
								}
							}
						}
					}
				}
			}
			#Guinea
			AND = {
				any_owned_province = { region = FRA_1883 }
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = { region = FRA_1883 }
						}
						any_greater_power = {
							any_owned_province = { region = FRA_1883 }
						}
					}
				}
			}
			#Guinea-Bissau
			AND = {
				any_owned_province = { region = FRA_1878 }
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = { region = FRA_1878 }
						}
						any_greater_power = {
							any_owned_province = { region = FRA_1878 }
						}
					}
				}
			}
			#Angola
			AND = {
				any_owned_province = { region = POR_1999 }
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = { region = POR_1999 }
						}
						any_greater_power = {
							any_owned_province = { region = POR_1999 }
						}
					}
				}
			}
			#Senegal and Mauritania
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1783
						region = FRA_1788
						region = FRA_1775
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = FRA_1783
									region = FRA_1788
									region = FRA_1775
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = FRA_1783
									region = FRA_1788
									region = FRA_1775
								}
							}
						}
					}
				}
			}
			#Mali
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1798
						region = FRA_1801
						region = FRA_1803
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = FRA_1798
									region = FRA_1801
									region = FRA_1803
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = FRA_1798
									region = FRA_1801
									region = FRA_1803
								}
							}
						}
					}
				}
			}
			#Niger
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1808
						region = FRA_1813
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = FRA_1808
									region = FRA_1813
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = FRA_1808
									region = FRA_1813
								}
							}
						}
					}
				}
			}
			#Mozambique
			AND = {
				any_owned_province = {
					OR = {
						region = POR_2049
						region = POR_2054
						region = POR_2053
						region = POR_2060
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = POR_2049
									region = POR_2054
									region = POR_2053
									region = POR_2060
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = POR_2049
									region = POR_2054
									region = POR_2053
									region = POR_2060
								}
							}
						}
					}
				}
			}
			#South Africa
			AND = {
				any_owned_province = {
					OR = {
						region = ENG_2087
						region = ENG_2096
						region = ORA_2103
						region = TRN_2108
						region = ZUL_2113
						region = ENG_2071
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = ENG_2087
									region = ENG_2096
									region = ORA_2103
									region = TRN_2108
									region = ZUL_2113
									region = ENG_2071
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = ENG_2087
									region = ENG_2096
									region = ORA_2103
									region = TRN_2108
									region = ZUL_2113
									region = ENG_2071
								}
							}
						}
					}
				}
			}
			#Egypt
			AND = {
				any_owned_province = {
					OR = {
						region = EGY_1745
						region = EGY_1758
						region = EGY_1762
						region = EGY_1771
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = EGY_1745
									region = EGY_1758
									region = EGY_1762
									region = EGY_1771
									region = EGY_1755
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = EGY_1745
									region = EGY_1758
									region = EGY_1762
									region = EGY_1771
									region = EGY_1755
								}
							}
						}
					}
				}
			}
			#Sudan
			AND = {
				any_owned_province = {
					OR = {
						region = EGY_1834
						region = EGY_1827
						region = EGY_1838
						region = ENG_1844
						#region = EGY_1842
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = EGY_1834
									region = EGY_1827
									region = EGY_1838
									region = ENG_1844
									#region = EGY_1842
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = EGY_1834
									region = EGY_1827
									region = EGY_1838
									region = ENG_1844
									#region = EGY_1842
								}
							}
						}
					}
				}
			}
			#Ethiopia
			AND = {
				any_owned_province = {
					OR = {
						region = ETH_1853
						region = ETH_1852
						region = ETH_1865
						region = ETH_1859
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = ETH_1853
									region = ETH_1852
									region = ETH_1865
									region = ETH_1859
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = ETH_1853
									region = ETH_1852
									region = ETH_1865
									region = ETH_1859
								}
							}
						}
					}
				}
			}
			#Somalia
			AND = {
				any_owned_province = {
					OR = {
						region = SOM_1868
						region = SOM_1872
					}
				}
				owner = {
					OR = {
						any_neighbor_country = {
							civilized = yes
							any_owned_province = {
								OR = {
									region = SOM_1868
									region = SOM_1872
								}
							}
						}
						any_greater_power = {
							any_owned_province = {
								OR = {
									region = SOM_1868
									region = SOM_1872
								}
							}
						}
					}
				}
			}
		}
	}

	po_demand_state = yes

	war_name = WAR_CONCESSION_NAME

	on_add = {
		add_country_modifier = { name = claimed_africa duration = 120 }
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.1
		}
	}

	on_po_accepted = { THIS = { add_country_modifier = { name = claimed_africa duration = 120 } } }
}

annex_africa_full = {
	sprite_index = 21
	is_triggered_only = yes
	months = 12
	crisis = no

	always = yes

	construction_speed = 2.5

	badboy_factor = 0
	prestige_factor = 0.5
	peace_cost_factor = 0.6
	penalty_factor = 2

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 0

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	can_use = {
		OR = {
			AND = {
				THIS = { total_amount_of_ships = 5 }
				any_owned_province = { port = yes }
			}
			neighbour = THIS
		}
		NOT = { is_our_vassal = THIS }
		NOT = { number_of_states = 2 }
		THIS = {
			nationalism_n_imperialism = 1
			capital_scope = { continent = europe }
			NOT = { tag = RUS }
			NOT = { tag = TUR }
			slavery = no_slavery
			OR = {
				is_greater_power = yes
				is_secondary_power = yes
			}
			  NOT = { has_country_modifier = neutrality_modifier }
			NOT = { has_country_modifier = claimed_africa }
			NOT = { has_country_flag = congo_award }
			civilized = yes
			has_global_flag = berlin_conference
		}
		civilized = no
		is_vassal = no
		NOT = {
			tag = MOR
			tag = ALD
			tag = TRI
			tag = LIB
			tag = CYR
			primary_culture = kefficho
			primary_culture = amhara
			primary_culture = tigray
			primary_culture = oromo
			primary_culture = harari
			has_country_flag = post_colonial_country
		}
		capital_scope = { continent = africa }
		OR = {
			any_owned_province = { any_neighbor_province = { owned_by = THIS } }
			AND = {
				any_owned_province = { port = yes }
				THIS = { any_owned_province = { port = yes } }
			}
		}

		#Claimed colonial regions can't be conquered with this CB
		NOT = {
			#Ghana
			AND = {
				any_owned_province = {
					OR = {
						region = ASH_1909
						region = FRA_1907
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = ASH_1909
								region = FRA_1907
							}
						}
					}
					any_greater_power  = {
						any_owned_province = {
							OR = {
								region = ASH_1909
								region = FRA_1907
							}
						}
					}
				}
			}
			#Ivory Coast
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1892
						region = FRA_1893
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1892
								region = FRA_1893
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1892
								region = FRA_1893
							}
						}
					}
				}
			}
			#Nigeria
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1923
						region = FRA_1927
						region = FRA_1930
						region = SOK_1934
						region = SOK_1945
						region = SOK_1937
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1923
								region = FRA_1927
								region = FRA_1930
								region = SOK_1934
								region = SOK_1945
								region = SOK_1937
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1923
								region = FRA_1927
								region = FRA_1930
								region = SOK_1934
								region = SOK_1945
								region = SOK_1937
							}
						}
					}
				}
			}
			#Guinea
			AND = {
				any_owned_province = { region = FRA_1883 }
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = { region = FRA_1883 }
					}
					any_greater_power = {
						any_owned_province = { region = FRA_1883 }
					}
				}
			}
			#Guinea-Bissau
			AND = {
				any_owned_province = { region = FRA_1878 }
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = { region = FRA_1878 }
					}
					any_greater_power = {
						any_owned_province = { region = FRA_1878 }
					}
				}
			}
			#Angola
			AND = {
				any_owned_province = { region = POR_1999 }
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = { region = POR_1999 }
					}
					any_greater_power = {
						any_owned_province = { region = POR_1999 }
					}
				}
			}
			#Senegal and Mauritania
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1783
						region = FRA_1788
						region = FRA_1775
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1783
								region = FRA_1788
								region = FRA_1775
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1783
								region = FRA_1788
								region = FRA_1775
							}
						}
					}
				}
			}
			#Mali
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1798
						region = FRA_1801
						region = FRA_1803
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1798
								region = FRA_1801
								region = FRA_1803
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1798
								region = FRA_1801
								region = FRA_1803
							}
						}
					}
				}
			}
			#Niger
			AND = {
				any_owned_province = {
					OR = {
						region = FRA_1808
						region = FRA_1813
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = FRA_1808
								region = FRA_1813
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = FRA_1808
								region = FRA_1813
							}
						}
					}
				}
			}
			#Mozambique
			AND = {
				any_owned_province = {
					OR = {
						region = POR_2049
						region = POR_2054
						region = POR_2053
						region = POR_2060
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = POR_2049
								region = POR_2054
								region = POR_2053
								region = POR_2060
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = POR_2049
								region = POR_2054
								region = POR_2053
								region = POR_2060
							}
						}
					}
				}
			}
			#South Africa
			AND = {
				any_owned_province = {
					OR = {
						region = ENG_2087
						region = ENG_2096
						region = ORA_2103
						region = TRN_2108
						region = ZUL_2113
						region = ENG_2071
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = ENG_2087
								region = ENG_2096
								region = ORA_2103
								region = TRN_2108
								region = ZUL_2113
								region = ENG_2071
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = ENG_2087
								region = ENG_2096
								region = ORA_2103
								region = TRN_2108
								region = ZUL_2113
								region = ENG_2071
							}
						}
					}
				}
			}
			#Egypt
			AND = {
				any_owned_province = {
					OR = {
						region = EGY_1745
						region = EGY_1758
						region = EGY_1762
						region = EGY_1771
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = EGY_1745
								region = EGY_1758
								region = EGY_1762
								region = EGY_1771
								region = EGY_1755
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = EGY_1745
								region = EGY_1758
								region = EGY_1762
								region = EGY_1771
								region = EGY_1755
							}
						}
					}
				}
			}
			#Sudan
			AND = {
				any_owned_province = {
					OR = {
						region = EGY_1834
						region = EGY_1827
						region = EGY_1838
						region = ENG_1844
						#region = EGY_1842
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = EGY_1834
								region = EGY_1827
								region = EGY_1838
								region = ENG_1844
								#region = EGY_1842
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = EGY_1834
								region = EGY_1827
								region = EGY_1838
								region = ENG_1844
								#region = EGY_1842
							}
						}
					}
				}
			}
			#Ethiopia
			AND = {
				any_owned_province = {
					OR = {
						region = ETH_1853
						region = ETH_1852
						region = ETH_1865
						region = ETH_1859
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = ETH_1853
								region = ETH_1852
								region = ETH_1865
								region = ETH_1859
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = ETH_1853
								region = ETH_1852
								region = ETH_1865
								region = ETH_1859
							}
						}
					}
				}
			}
			#Somalia
			AND = {
				any_owned_province = {
					OR = {
						region = SOM_1868
						region = SOM_1872
					}
				}
				OR = {
					any_neighbor_country = {
						civilized = yes
						any_owned_province = {
							OR = {
								region = SOM_1868
								region = SOM_1872
							}
						}
					}
					any_greater_power = {
						any_owned_province = {
							OR = {
								region = SOM_1868
								region = SOM_1872
							}
						}
					}
				}
			}
		}
	}

	po_annex = yes

	war_name = WAR_PROTECTORATE_NAME

	on_add = {
		add_country_modifier = { name = claimed_africa duration = 120 }
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.1
		}
	}

	on_po_accepted = {
		THIS = { add_country_modifier = { name = claimed_africa duration = 120 } }
		tech_school = developing_tech_school
	}
}

# Establish Protectorate
establish_protectorate_casus_belli = {
	sprite_index = 7
	is_triggered_only = yes
	months = 0
	crisis = no

	construction_speed = 0.5

	badboy_factor = 1.5
	prestige_factor = 1
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	always = no

	can_use = {
		OR = {
			NOT = { has_country_modifier = war_focus }
			THIS = {
				NOT = {
					has_country_flag = exclusive_acquire_all_cores_CB
					has_country_flag = exclusive_humiliate_CB
					has_country_flag = exclusive_liberate_country_CB
					has_country_flag = exclusive_make_puppet_CB
				}
			}
		}
		civilized = no
		is_vassal = no
		OR = {
			any_owned_province = { any_neighbor_province = { owned_by = THIS } }
			AND = {
				any_owned_province = { port = yes }
				THIS = { any_owned_province = { port = yes } }
			}
		}
		NOT = { is_our_vassal = THIS }
		NOT = {
			has_country_modifier = neutrality_modifier
			number_of_states = 2
		}
		THIS = {
			civilized = yes
			NOT = { has_country_modifier = neutrality_modifier }
		}
		OR = {
			THIS = { NOT = { nationalism_n_imperialism = 1 } }
			NOT = { has_global_flag = berlin_conference }
			civilization_progress = 0.6
			has_country_flag = post_colonial_country
		}
		OR = {
			THIS = { NOT = { nationalism_n_imperialism = 1 } }
			civilization_progress = 0.6
			has_country_flag = post_colonial_country
			AND = {
				THIS = { nationalism_n_imperialism = 1 }
				capital_scope = { continent = africa }
			}
		}
		capital_scope = { continent = africa }
	}

	po_annex = yes

	war_name = WAR_PROTECTORATE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.1
		}
	}
	on_po_accepted = { tech_school = developing_tech_school }
}

#Status Quo
status_quo = {
	sprite_index = 1
	is_triggered_only = yes
	months = 12
	constructing_cb = no

	can_use = {
		NOT = { is_our_vassal = THIS }
		always = no
	}

	break_truce_prestige_factor = 5
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	badboy_factor = 1
	prestige_factor = 1
	peace_cost_factor = 1
	penalty_factor = 1

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	po_status_quo = yes

	war_name = WAR_NAME
}

# Make Puppet
make_puppet = {
	sprite_index = 18
	is_triggered_only = yes
	months = 12
	crisis = no

	badboy_factor = 2.0
	prestige_factor = 1
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		OR = {
			NOT = { has_country_modifier = war_focus }
			THIS = {
				NOT = {
					has_country_flag = exclusive_acquire_all_cores_CB
					has_country_flag = exclusive_humiliate_CB
					has_country_flag = exclusive_liberate_country_CB
				}
			}
		}
		is_vassal = no
		is_greater_power = no
		THIS = {
			NOT = { has_country_modifier = neutrality_modifier }
			military_score = 1
		}
		THIS = { NOT = { has_country_modifier = no_more_war } }
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope

	po_make_puppet = yes

	war_name = WAR_PUPPET_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
		country_event = 19370
	}
}

# Become Independent
become_independent = {
	sprite_index = 10
	is_triggered_only = yes
	months = 12
	crisis = no

	always = yes

	badboy_factor = 1
	prestige_factor = 1
	peace_cost_factor = 5
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 108

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		is_our_vassal = THIS
		NOT = { has_country_modifier = neutrality_modifier }
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope
	allowed_countries = {
		FROM = { is_our_vassal = THIS }
	}

	po_release_puppet = yes
	po_add_to_sphere = yes

	war_name = WAR_INDEPENDENCE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
		add_war_goal = {
			casus_belli = make_puppet
		}
		leave_alliance = FROM
		release_vassal = THIS
	}
}

great_war_install_ideology = {
	sprite_index = 19
	is_triggered_only = yes
	months = 12
	construction_speed = 1.5
	crisis = no

	badboy_factor = 0
	prestige_factor = 1
	peace_cost_factor = 30
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1
	always = yes

	can_use = {
		test = is_warable_country
		THIS = {
			has_country_flag = in_great_war
			is_greater_power = yes
		}
		has_country_flag = in_great_war
		is_vassal = no
		civilized = yes
		test != is_same_ruling_party_ideology
	}

	po_remove_prestige = yes

	war_name = WAR_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.05
		}
	}

	on_po_accepted = {
		country_event = 96085
	}
}

install_government = {
	sprite_index = 19
	is_triggered_only = yes
	months = 12
	construction_speed = 1.5
	crisis = no
	badboy_factor = 1.5
	prestige_factor = 1
	peace_cost_factor = 50
	penalty_factor = 1
	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48
	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1
	can_use = {
		test = is_warable_country
		THIS = {
			is_greater_power = yes
			government = proletarian_dictatorship
		}
		civilized = yes
	}
	po_remove_prestige = yes
	po_install_communist_gov_type = yes
	war_name = WAR_NAME
	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.05
		}
	}
	on_po_accepted = {
		country_event = 96085
	}
}

# Gain control of Substate region
acquire_substate_region = {
	sprite_index = 6
	is_triggered_only = yes
	months = 12
	crisis = no

	construction_speed = 0.5

	badboy_factor = 2.2
	prestige_factor = 2
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 2
	break_truce_militancy_factor = 2
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		num_of_substates = 1 # if has any substate
	}

	allowed_substate_regions = {
	}

	po_demand_state = yes

	war_name = WAR_TAKE_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

# Colonial competition
colonial_competition = {
	sprite_index = 31
	is_triggered_only = yes
	constructing_cb = no    # only used in crises
	crisis = no
	months = 12

	badboy_factor = 0
	prestige_factor = 2
	peace_cost_factor = 0.9
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	po_colony = yes

	war_name = WAR_COLONIAL_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}
}

# Dismantle fortifications (forts + naval bases)
dismantle_forts = {
	sprite_index = 16
	is_triggered_only = yes
	months = 12

	badboy_factor = 1
	prestige_factor = 0.5
	peace_cost_factor = 5
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		THIS = { civilized = yes }
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal's state
	allowed_states = {
		any_owned_province = {
			OR = {
				has_building = fort
				has_building = naval_base
			}
		}
	}

	po_destroy_forts = yes
	po_destroy_naval_bases = yes

	war_name = WAR_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
	}
}

#Placeholder for acquire state-by-event
acquire_any_state = {
	sprite_index = 6
	is_triggered_only = yes
	months = 12
	constructing_cb = no
	crisis = no

	badboy_factor = 0
	prestige_factor = 0
	peace_cost_factor = 1
	penalty_factor = 1

	break_truce_prestige_factor = 0
	break_truce_infamy_factor = 0
	break_truce_militancy_factor = 0
	truce_months = 48

	good_relation_prestige_factor = 0
	good_relation_infamy_factor = 0
	good_relation_militancy_factor = 0

	can_use = {
		test = is_warable_country
	}

	allowed_states = {
	}

	po_demand_state = yes

	war_name = WAR_TAKE_NAME

	on_add = {
	}

	on_po_accepted = {
		random_owned = {
			limit = {
				owner = {
					civilized = no
					is_culture_group = east_asian
					OR = {
						owns = 1481
						owns = 1496
						owns = 1498
						owns = 1538
						owns = 1566
						owns = 1569
						owns = 1606
						owns = 2632
					}
				}
				THIS = {
					civilized = yes
					NOT = { is_culture_group = east_asian }
					any_owned_province = { port = yes }
				}
			}
			owner = { country_event = 1316089 }
		}
	}
}

install_ideology_make_puppet = {
	sprite_index = 17
	is_triggered_only = yes
	constructing_cb = no
	months = 12
	crisis = no

	badboy_factor = 2
	prestige_factor = 1
	peace_cost_factor = 1.17
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
	}

	po_make_puppet = yes

	war_name = WAR_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.05
		}
	}

	on_po_accepted = {
		country_event = 96085
	}
}

# War Reparations
war_reparations = {
	sprite_index = 27
	is_triggered_only = yes
	months = 12
	construction_speed = 0.8

	badboy_factor = 0.25
	prestige_factor = 0.5
	peace_cost_factor = 20
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		has_country_flag != in_great_war
	}

	po_reparations = yes

	war_name = WAR_NAME_REPARATIONS

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
	}

	on_po_accepted = {
		random_owned = {
			limit = {
				owner = {
					tag = HAI
					FRA = { is_greater_power = yes }
					NOT = { has_country_flag = agreed_to_pay_debt }
				}
			}
			owner = {
				country_event = 45108
			}
		}
		random_owned = {
			limit = {
				owner = {
					tag = MEX
					has_country_modifier = pay_1st_pastry_war
				}
			}
			owner = {
				country_event = 45108
			}
		}
	}
}

#Steal Puppet CB
steal_puppet = {
	sprite_index = 33
	is_triggered_only = yes
	months = 12

	badboy_factor = 5
	prestige_factor = 1
	peace_cost_factor = 15
	penalty_factor = 1

	break_truce_prestige_factor = 1
	break_truce_infamy_factor = 1
	break_truce_militancy_factor = 1
	truce_months = 48

	good_relation_prestige_factor = 1
	good_relation_infamy_factor = 1
	good_relation_militancy_factor = 1

	can_use = {
		test = is_warable_country
		num_of_vassals_no_substates = 1
	}

	# THIS - us
	# FROM - country scope is possible match?
	# war target country of goal is scope
	allowed_countries = {
		is_our_vassal = FROM
		FROM = { is_substate = no }
	}

	po_release_puppet = yes
	po_add_to_sphere = yes

	war_name = WAR_NAME

	on_add = {
		move_issue_percentage = {
			from = jingoism
			to = pro_military
			value = 0.25
		}
		any_country = {
			limit = {
				exists = yes
				vassal_of = FROM
				is_substate = no
				OR = {
					AND = {
						THIS = { total_amount_of_ships = 5 }
						any_owned_province = { port = yes }
					}
					neighbour = THIS
					any_neighbor_country = {
						OR = {
							vassal_of = THIS
							substate_of = THIS
						}
					}
				}
			}
			set_country_flag = transfer_to_new_overlord
		}
	}

	on_po_accepted = {
		THIS = { set_country_flag = new_overlord }
	}
}
